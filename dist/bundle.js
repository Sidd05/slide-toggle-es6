!function t(i,e,n){function s(l,r){if(!e[l]){if(!i[l]){var a="function"==typeof require&&require;if(!r&&a)return a(l,!0);if(o)return o(l,!0);var u=new Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u}var d=e[l]={exports:{}};i[l][0].call(d.exports,function(t){var e=i[l][1][t];return s(e?e:t)},d,d.exports,t,i,e,n)}return e[l].exports}for(var o="function"==typeof require&&require,l=0;l<n.length;l++)s(n[l]);return s}({1:[function(t,i,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),l=t("./utils"),r=n(l),a=[];document.addEventListener("click",function(t){a.forEach(function(i){i(t)})});var u=function(){function t(i){var e=i.id,n=i.clickOutside,o=void 0===n?!1:n,l=i.jsOnly,r=void 0===l?!1:l,a=i.speed,u=void 0===a?400:a,d=i.interval,c=void 0===d?13:d,f=i.beforeAnimate,h=i.afterAnimate,g=i.clickElId;if(s(this,t),!e)throw"Element id parameter missing to create SlideToggle object";if(this.el=document.getElementById(e),void 0===this.el)throw"Dom Element not found with the passed id";this.clickOutside=o,this.jsOnly=r,this.speed=u,this.interval=c,this.beforeAnimate=f,this.afterAnimate=h,this.isAnimating=!1,void 0===g&&(g=this.el.dataset.clickelid),this.clickElId=g,this.wasOpen=!1,this.initClickHandlers(),this.initTransitions()}return o(t,[{key:"initClickHandlers",value:function(){var t=this;void 0!==this.clickElId&&(r["default"].log("Adding click handler on "+this.clickElId),a.push(function(i){i.target.id===t.clickElId?t.slideToggle():!t.el.contains(i.target)&&t.clickOutside&&t.wasOpen&&t.slideToggle()}.bind(this)))}},{key:"initTransitions",value:function(){r["default"].isTransitions&&!this.jsOnly?(this.el.style.height=this.el.clientHeight+"px",r["default"].onTransitionEnd(this.el,this.onTransitionEnd.bind(this)),this.slideToggleFunction=this.slideCSS):this.slideToggleFunction=this.slideJS}},{key:"slideToggle",value:function(){return this.isAnimating?void r["default"].log("Still Animating, click event ignored"):(this.onTransitionStart(),void this.slideToggleFunction())}},{key:"slideCSS",value:function(){var t=this;this.el.style[r["default"].vprefix]="height "+this.speed+"ms linear";var i="0";this.wasOpen||(this.visible("block"),i=r["default"].findAutoHeight(this.el)+"px"),setTimeout(function(){t.el.style.height=i},50)}},{key:"slideJS",value:function(){var t=this,i=this.el.clientHeight,e=i,n=1;this.wasOpen||(i=r["default"].findAutoHeight(this.el),e=0,n=-1,this.visible("block")),n*=Math.ceil(i/(this.speed/this.interval)),this.el.style.height=e+"px";var s=setInterval(function(){e>=n&&i>=e?(e-=n,t.el.style.height=e+"px"):(clearInterval(s),t.onTransitionEnd())},this.interval)}},{key:"onTransitionStart",value:function(){r["default"].log("Setting isAnimating to true"),this.isAnimating=!0,this.beforeAnimate&&this.beforeAnimate()}},{key:"onTransitionEnd",value:function(){r["default"].log("setting isAnimating to false"),this.isAnimating=!1,this.wasOpen&&this.visible("none"),this.afterAnimate&&(r["default"].log("calling user afterAnimate function"),this.afterAnimate()),this.wasOpen=!this.wasOpen}},{key:"visible",value:function(t){if(!t)throw"Parameter undefined";this.el.style.display=t}}]),t}();e["default"]=u,i.exports=e["default"]},{"./utils":2}],2:[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={},s=location.href.indexOf("debug=true")>-1;n.log=function(t){s&&console.log(t)},n.isTransitions=function(){var t=!1,i=document.createElement("div").style,e={transition:"transitionend",webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",MsTransition:"MSTransitionEnd"};return Object.keys(e).some(function(s){return s in i?(n.log("browser supports transitions"),n.vprefix=s,n.log("browser transitions prefix: "+s),n.transitionEnd=e[s],n.log("browser transition end callback name: "+e[s]),t=!0,!0):(n.log("browser does not support transitions"),t=!1,!1)}),t}(),n.onTransitionEnd=function(t,i){t.addEventListener(n.transitionEnd,i)},n.findAutoHeight=function(t){var i=t.style.cssText,e=t.parentNode.clientWidth;t.style.cssText=i+"display:block;position:absolute;top:-999px;height:auto;width:"+e+"px";var n=t.clientHeight;return t.style.cssText=i,n},Object.freeze(n),e["default"]=n,i.exports=e["default"]},{}],3:[function(t,i,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var s=t("./slide-toggle"),o=n(s),l=document.getElementById("button1");new o["default"]({id:"slideToggle1",clickOutside:!0,speed:700,beforeAnimate:function(){l.classList.add("animating")},afterAnimate:function(){l.classList.remove("animating")}}),new o["default"]({id:"slideToggle2",clickElId:"button2",jsOnly:!0})},{"./slide-toggle":1}]},{},[3]);
